# Stage 4/6: The Cost of Conflict
## Description
Now that you've identified the country that had produced the greatest number of battleship classes,  
it's time to explore the other side of the equation. Your task now is to uncover the losses suffered by  
each country by determining their number of sunken ships.

## Objectives
- Identify the `country` from the `Classes` table and retrieve the corresponding number of  
  `sunken` ships produced by this country as `num_sunk_ships` from the `Outcomes` table of the **battleship database**.  
- Ensure that the retrieval is arranged from the highest number of `num_sunk_ships` to the lowest - **descending** order.  
- The column order is essential.  
- Use the `GROUP BY` clause and `JOIN` to solve the problem.

Take a look at the following database structure:

![Explanation of the database](./IMG1.png)

## Explanation of the database:  

The `**Classes**` table represents different categories of ships that participated in the World War II.  
    It stores information about each: **ship class**, including:
- `class`: the class name. It is the `primary key`.  
- `type`:type of ship represented as: battleship (`'bb'`) or battlecruiser (`'bc'`),  
- `country`: the country where the ship was built  
- `numGuns`: the number of main guns  
- `bore`: the gun caliber represented by the bore diameter in inches,  
- `displacement`: and the displacement (displacement) measured in weight tons.

The `**Ships**` table contains details about each ship, including:  
- `name`: the name of the ship. It is the `primary key`. 
- `class`: the class to which it belongs. It is the `foreign key` to category of ships defined in the Classes table.
- `launched`: and the year it was launched into the water.

The `**Battles**` table stores information about the various battles in which the ships participated during the World War II.  
    It includes:  
- `name`: the name of the battle. It is the `primary key`.
- `date`: the date on which the battle took place.

The `**Outcomes**` table provides data on the results of the ship's participation in each battle. It includes:  
- `name`: the name of the ship that took part in the battle  
- `batlle`: the name of the battle in which the ship participated  
- `result`: the result of the ship's involvement:
  - categorized as "sunk" if the ship was sunk during the battle,  
  - "damaged" if the ship was damaged during the battle,  
  - "OK" if the ship remained undamaged after the battle.

Table names are case-sensitive.

Click on the [link](WorldWarShips.sql) to download the SQL query for creating the database.

## Example

_Outcomes Table Example:_

| ship         | battle               | result  |
|--------------|----------------------|---------|
| Yamagumo     | Battle of Okinawa    | OK      |
| Nagato       | Pearl Harbor         | sunk    |
| USS Caroline | Battle of Leyte Gulf | damaged |
| Bismarck     | Pearl Harbor         | sunk    |
| Ise          | Battle of Leyte Gulf | sunk    |

_Classes Table Example:_

| class    | type | country | numGuns | bore | displacement |
|----------|------|---------|---------|------|--------------|
| Yamagumo | bb   | Japan   | 10      | 15   | 50000        |
| Nagato   | bc   | Japan   | 12      | 16   | 50000        |
| Hood     | bb   | US      | 10      | 14   | 43000        |
| Bismarck | bb   | Germany | 8       | 14   | 40000        |
| Ise      | bc   | Japan   | 12      | 16   | 45000        |

_Ships Table Example:_

| name         | class        | launched |
|--------------|--------------|----------|
| Yamagumo     | Yamashiro II | 1922     |
| Nagato       | Nagato       | 1916     |
| USS Caroline | Hood         | 1931     |
| Bismarck     | Bismarck II  | 1939     |
| Ise          | Ise          | 1928     |

From the data presented in the tables above, it is evident from the `Outcomes` table that ships (name) `Nagato`, `Bismarck`,  
and `Ise` were sunk during the war. By finding the corresponding ship `classes` using the `Ships` table,  
it will be possible to find out the `country` that produced that class in the `Classes` table.  
The output after identifying the number of sunk ships attributed to each country:

| country | num_sunk_ships |
|---------|----------------|
| Japan   | 2              |
| Germany | 1              |


_From the output above, it can be seen that the order of the columns is `country`-> `num_sunk_ships`_

## Query template:
```markdown
SELECT c.country, COUNT(o.result) as num_sunk_ships
```